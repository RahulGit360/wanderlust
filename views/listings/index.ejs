<%- layout('layouts/boilerplate') %>
<body>
    <h3>All Listings</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <% for (let listing of allListings){ %>
          <a href="/listings/<%= listing._id %> " class="listing-link">
            <div class="col">
            <div class="card listing-card">
                <img class="card-img-top" src="<%= listing.image %>" alt="listing image" style="height: 20rem; object-fit: cover;"/>
                <div class="card-img-overlay"> </div>
                <div class="card-body">
                 <p class="card-text">
                    <b><%= listing.title %></b> <br/> 
                    &#36; <%= Number(listing.price ?? 0).toLocaleString('en-US') %> / night

                 </p>
                </div>
                
              </div>
            </div>
          </a>
              <%} %>
    </div> 
   
    <!-- <ul>
        
    <% for (let listing of allListings){ %>
       <li> <a href="/listings/<%= listing._id %>"><%= listing.title %></a> </li>

    <%} %>
    </ul> -->
</body>
